<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>areaDetector Plugin NDPluginV4Server</title>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type" />
</head>
<body>
  <div style="text-align: center">
    <h1>
      areaDetector Plugin NDPluginV4Server</h1>
    <h2>
      March 25, 2015</h2>
    <h2>
      Bruno Martins</h2>
    <h2>
      Brookhaven National Laboratory</h2>
  </div>
  <h2>
    Contents</h2>
  <ul>
    <li><a href="#Overview">Overview</a></li>
    <li><a href="#Compilation">Compilation</a></li>
    <li><a href="#Configuration">Configuration</a></li>
  </ul>
  <h2 id="Overview">
    Overview
  </h2>
  <p>
    This plugin converts NDArray data produced by asynNDArrayDrivers into the EPICSv4
    normative type NTNDArray. An embedded EPICSv4 server is created to serve the new
    NTNDArray structure as an EPICSv4 PV. A
    <a href="http://epics-pvdata.sourceforge.net/alpha/normativeTypes/normativeTypesNDArray.html">
    description</a> of the structure of the NTNDArray normative type is available.
  </p>
  <p>
    NDPluginV4Server defines no parameters.
  </p>

  <h2 id="Compilation">
    Compilation</h2>
  <p>
    The NDPluginV4Server plugin requires the following EPICSv4 modules in order to be compiled:
    <ul>
      <li>pvDataCPP</li>
      <li>pvAccessCPP (requires pvCommonCPP)</li>
      <li>pvDatabaseCPP</li>
      <li>normativeTypesCPP</li>
    </ul>
  </p>
  <p>
    The <code>EV4_BASE</code> definition must be set to the folder that contains all of the
    aforementioned EPICSv4 modules. This is typically set in the <code>RELEASE_PATHS.local</code>
    configuration file.
  </p>
  <p>
    The compilation is also currently dependent on the <code>EPICS_V4_PLUGIN</code> definition
    being equal to <code>YES</code>. This can be done in the <code>CONFIG_SITE.local</code> configuration
    file.
  </p>

  <h2 id="Configuration">
    Configuration</h2>
  <p>
    The NDPluginV4Server plugin is created with the NDV4ServerConfigure command, either
    from C/C++ or from the EPICS IOC shell.</p>
  <pre>NDPV4ServerConfigure (const char *portName, int queueSize, int blockingCallbacks,
                      const char *NDArrayPort, int NDArrayAddr, const char *pvName,
                      size_t maxMemory, int priority, int stackSize)
  </pre>
  <p>
    For details on the meaning of the parameters to this function refer to the detailed
    documentation on the NDV4ServerConfigure function in the <a href="areaDetectorDoxygenHTML/_n_d_plugin_v4_server_8cpp.html">
      NDPluginV4Server.cpp documentation</a> and in the documentation for the constructor
    for the <a href="areaDetectorDoxygenHTML/class_n_d_plugin_v4_server.html">NDPluginV4Server
      class</a>.
  </p>
</body>
</html>
